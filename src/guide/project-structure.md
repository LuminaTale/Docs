# 项目结构说明

一个标准的 LuminaTale 项目包含以下核心目录和文件。了解它们的作用有助于你更好地组织游戏资源。

## 目录树概览
目前因为处于开发阶段，下面列出的项目结构是针对于 Lumina-desktop 来的。

一个典型的目录结构应该如下所示。

```text
Lumina-desktop
├── Cargo.toml <-- Rust 项目配置 (普通用户无需修改)
├── assets <-- [重要] 资源仓库
│   ├── background <-- 背景图片
│   ├── character <-- 角色资源
│   ├── font <-- 字体
│   ├── music <-- 音频
│   └── rules <-- 遮罩图
├── game <-- [重要] 剧本与逻辑
│   ├── start.vivi
│   ├── boot.lua
│   └── system
│       └── ...
├── logs  <-- [自动生成] 运行日志
├── saves <-- [自动生成] 存档文件
│   └── global.json <-- [自动生成] sf 变量的保存处
├── src
│   └── ... <-- 启动器的源码(普通用户无需修改)
└── test_script <--一些现成的测试脚本
```

## 详细说明

### 1. `game/`(脚本目录)
这是你工作的核心区域。

- 存放内容：所有的 .vivi 剧本文件和 .lua 扩展脚本。

- 加载规则：引擎启动时会递归扫描该目录下所有的文件。这意味着你可以创建子文件夹（如 game/system/）来分类管理脚本，引擎都能找到它们。

- 特殊文件：
    - boot.lua：如果你需要加载自定义的 Lua 扩展（如特效、UI 布局），通常在这里通过 require 引入。 目前你下载的源码中应该已经自带了一些特效和演出布局的 Lua 内容。

### 2. `assets/`(资源目录)
存放游戏素材的地方。

- 存放内容：图片 (.png, .jpg, ...)、音频 (.mp3, .wav, .ogg)、字体 (.ttf, .otf)。
- 命名建议：引擎通常通过文件名（不含扩展名）来引用资源。建议使用英文、数字命名，并且在你后面查阅vivi语法文档时你会了解到目标和属性名，这两项将会自动使用下划线链接，例如 bg_school.png。
- 分类建议：引擎会自动递归扫描目录下的全部内容，你可以按照你的喜好自己设计结构，但是强烈不建议堆在一起，在项目变大后目录内容将变得极其混乱。
- 预加载：引擎会根据脚本内容提前预读取该目录下的资源，以减少卡顿。

### 3. `saves/` (存档目录)
- 作用：存放用户的游戏进度存档。

- 格式：二进制文件（如 save1.bin）和全局数据（global.json）。

- 注意：发布游戏时不需要包含此目录，它会在玩家运行时自动生成。

### 4. `logs/` (日志目录)
作用：存放运行时的调试信息 lumina.log。

用途：如果你在脚本中写了 print 或者遇到了崩溃，可以在这里查看详细的错误原因。